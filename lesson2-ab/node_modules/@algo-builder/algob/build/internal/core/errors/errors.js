"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.BuilderPluginError = void 0;
const caller_package_1 = require("../../util/caller-package");
/**
 * This class is used to throw errors from algob plugins.
 */
class BuilderPluginError extends Error {
    /**
     * Creates a BuilderPluginError.
     *
     * @param pluginNameOrMessage The name of the plugin.
     * @param messageOrParent An error message that will be shown to the user.
     * @param parent The error that causes this error to be thrown.
     */
    constructor(pluginNameOrMessage, messageOrParent, parent) {
        if (typeof messageOrParent === "string") {
            super(messageOrParent);
            this.pluginName = pluginNameOrMessage;
            this.parent = parent;
        }
        else {
            super(pluginNameOrMessage);
            this.pluginName = (0, caller_package_1.getClosestCallerPackage)();
            this.parent = messageOrParent;
        }
        this._isBuilderPluginError = true;
        Object.setPrototypeOf(this, BuilderPluginError.prototype);
    }
    static isBuilderPluginError(other) {
        // eslint-disable-line
        return other !== undefined && other !== null && other._isBuilderPluginError === true;
    }
}
exports.BuilderPluginError = BuilderPluginError;
//# sourceMappingURL=errors.js.map